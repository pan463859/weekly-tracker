<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>10 Bad TypeScript Habits to Break This Year | Weekly Tracker</title>
    <meta name="generator" content="VuePress 1.9.7">
    <script>
      var _hmt = _hmt || [];
      (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?42838d5683674819691a92f6ebdf25d8";
        var s = document.getElementsByTagName("script")[0]; 
        s.parentNode.insertBefore(hm, s);
      })();
      </script>        
      </script>
    <meta name="description" content="追踪国外最流行的周刊">
    
    <link rel="preload" href="/assets/css/0.styles.df856fea.css" as="style"><link rel="preload" href="/assets/js/app.5641f920.js" as="script"><link rel="preload" href="/assets/js/4.388a4c5b.js" as="script"><link rel="preload" href="/assets/js/1.8a664180.js" as="script"><link rel="preload" href="/assets/js/78.20ce1df9.js" as="script"><link rel="preload" href="/assets/js/10.6be17232.js" as="script"><link rel="prefetch" href="/assets/js/100.19791f3e.js"><link rel="prefetch" href="/assets/js/101.c24b3a40.js"><link rel="prefetch" href="/assets/js/102.eef7df2a.js"><link rel="prefetch" href="/assets/js/103.a4ef019f.js"><link rel="prefetch" href="/assets/js/104.7b068461.js"><link rel="prefetch" href="/assets/js/105.4dec9c59.js"><link rel="prefetch" href="/assets/js/106.b66c8728.js"><link rel="prefetch" href="/assets/js/107.1b9e52bf.js"><link rel="prefetch" href="/assets/js/108.f977aea6.js"><link rel="prefetch" href="/assets/js/109.9f988cb2.js"><link rel="prefetch" href="/assets/js/11.4794fd6e.js"><link rel="prefetch" href="/assets/js/110.8743e742.js"><link rel="prefetch" href="/assets/js/111.faec1039.js"><link rel="prefetch" href="/assets/js/112.fe6e467b.js"><link rel="prefetch" href="/assets/js/113.999e5c93.js"><link rel="prefetch" href="/assets/js/114.3f5821a1.js"><link rel="prefetch" href="/assets/js/115.6e49e763.js"><link rel="prefetch" href="/assets/js/116.5fd552dc.js"><link rel="prefetch" href="/assets/js/117.deacab63.js"><link rel="prefetch" href="/assets/js/118.d840830e.js"><link rel="prefetch" href="/assets/js/119.8a44883f.js"><link rel="prefetch" href="/assets/js/12.ebcb3473.js"><link rel="prefetch" href="/assets/js/120.85908ce9.js"><link rel="prefetch" href="/assets/js/121.7904bf2c.js"><link rel="prefetch" href="/assets/js/122.4280d7d5.js"><link rel="prefetch" href="/assets/js/123.96a7bc76.js"><link rel="prefetch" href="/assets/js/124.f7b5ada7.js"><link rel="prefetch" href="/assets/js/125.56784fc3.js"><link rel="prefetch" href="/assets/js/126.9b87d884.js"><link rel="prefetch" href="/assets/js/127.e8ff38a4.js"><link rel="prefetch" href="/assets/js/128.f72b5b5f.js"><link rel="prefetch" href="/assets/js/129.e8e85534.js"><link rel="prefetch" href="/assets/js/13.9b0e975a.js"><link rel="prefetch" href="/assets/js/130.3407be9d.js"><link rel="prefetch" href="/assets/js/131.d17e9f31.js"><link rel="prefetch" href="/assets/js/132.ad431a54.js"><link rel="prefetch" href="/assets/js/133.a7cc429c.js"><link rel="prefetch" href="/assets/js/134.2c95687b.js"><link rel="prefetch" href="/assets/js/135.f7dbbafd.js"><link rel="prefetch" href="/assets/js/136.04608d76.js"><link rel="prefetch" href="/assets/js/137.ddc64d70.js"><link rel="prefetch" href="/assets/js/138.66206b36.js"><link rel="prefetch" href="/assets/js/139.dd2b7224.js"><link rel="prefetch" href="/assets/js/14.ce1717d2.js"><link rel="prefetch" href="/assets/js/140.a2c3c9cb.js"><link rel="prefetch" href="/assets/js/141.c0b669bc.js"><link rel="prefetch" href="/assets/js/142.c6b49b05.js"><link rel="prefetch" href="/assets/js/143.ac9c7ff5.js"><link rel="prefetch" href="/assets/js/144.33b92788.js"><link rel="prefetch" href="/assets/js/145.f47e1239.js"><link rel="prefetch" href="/assets/js/146.fd392742.js"><link rel="prefetch" href="/assets/js/147.ad21cbf7.js"><link rel="prefetch" href="/assets/js/148.277339ce.js"><link rel="prefetch" href="/assets/js/149.2e82896b.js"><link rel="prefetch" href="/assets/js/15.7312e59b.js"><link rel="prefetch" href="/assets/js/150.2203925d.js"><link rel="prefetch" href="/assets/js/151.14a683ce.js"><link rel="prefetch" href="/assets/js/152.4d71d192.js"><link rel="prefetch" href="/assets/js/153.c1a20b6f.js"><link rel="prefetch" href="/assets/js/154.20c8df1f.js"><link rel="prefetch" href="/assets/js/155.f69ddece.js"><link rel="prefetch" href="/assets/js/156.6b28e645.js"><link rel="prefetch" href="/assets/js/157.551d6d47.js"><link rel="prefetch" href="/assets/js/158.0db3944e.js"><link rel="prefetch" href="/assets/js/159.7d149b33.js"><link rel="prefetch" href="/assets/js/16.e308d4a8.js"><link rel="prefetch" href="/assets/js/160.a4275bf5.js"><link rel="prefetch" href="/assets/js/161.ca601ec5.js"><link rel="prefetch" href="/assets/js/162.39071718.js"><link rel="prefetch" href="/assets/js/163.52076260.js"><link rel="prefetch" href="/assets/js/164.27ae2c3b.js"><link rel="prefetch" href="/assets/js/165.89014b7c.js"><link rel="prefetch" href="/assets/js/166.bb80ad01.js"><link rel="prefetch" href="/assets/js/167.d1427d97.js"><link rel="prefetch" href="/assets/js/168.1338521f.js"><link rel="prefetch" href="/assets/js/169.d9c52a48.js"><link rel="prefetch" href="/assets/js/17.21a1fde4.js"><link rel="prefetch" href="/assets/js/170.20aa1ce0.js"><link rel="prefetch" href="/assets/js/171.373bd88c.js"><link rel="prefetch" href="/assets/js/172.81de3a6f.js"><link rel="prefetch" href="/assets/js/173.058b05cf.js"><link rel="prefetch" href="/assets/js/18.f9780919.js"><link rel="prefetch" href="/assets/js/19.da7c31e9.js"><link rel="prefetch" href="/assets/js/2.6a6af5e2.js"><link rel="prefetch" href="/assets/js/20.d570f52f.js"><link rel="prefetch" href="/assets/js/21.f4c942c1.js"><link rel="prefetch" href="/assets/js/22.ca01b38c.js"><link rel="prefetch" href="/assets/js/23.d8ee5567.js"><link rel="prefetch" href="/assets/js/24.f16b565a.js"><link rel="prefetch" href="/assets/js/25.bfce2b93.js"><link rel="prefetch" href="/assets/js/26.5a6725b3.js"><link rel="prefetch" href="/assets/js/27.3f54914a.js"><link rel="prefetch" href="/assets/js/28.c10fae90.js"><link rel="prefetch" href="/assets/js/29.e5656bd3.js"><link rel="prefetch" href="/assets/js/30.fe441546.js"><link rel="prefetch" href="/assets/js/31.2e767245.js"><link rel="prefetch" href="/assets/js/32.4e7db4fc.js"><link rel="prefetch" href="/assets/js/33.65e0f5ab.js"><link rel="prefetch" href="/assets/js/34.d017cfa4.js"><link rel="prefetch" href="/assets/js/35.235ff6c9.js"><link rel="prefetch" href="/assets/js/36.3655f052.js"><link rel="prefetch" href="/assets/js/37.472d8e75.js"><link rel="prefetch" href="/assets/js/38.f6d9bb45.js"><link rel="prefetch" href="/assets/js/39.68bacd6c.js"><link rel="prefetch" href="/assets/js/40.58549627.js"><link rel="prefetch" href="/assets/js/41.f4ab8d85.js"><link rel="prefetch" href="/assets/js/42.31975101.js"><link rel="prefetch" href="/assets/js/43.b5afbe2e.js"><link rel="prefetch" href="/assets/js/44.f392cd5d.js"><link rel="prefetch" href="/assets/js/45.94337cc4.js"><link rel="prefetch" href="/assets/js/46.3aff09c9.js"><link rel="prefetch" href="/assets/js/47.b10e3b14.js"><link rel="prefetch" href="/assets/js/48.1bfb3d7f.js"><link rel="prefetch" href="/assets/js/49.20fce0ae.js"><link rel="prefetch" href="/assets/js/5.5e1ab272.js"><link rel="prefetch" href="/assets/js/50.8003ca8d.js"><link rel="prefetch" href="/assets/js/51.f392b1c8.js"><link rel="prefetch" href="/assets/js/52.7a0015b4.js"><link rel="prefetch" href="/assets/js/53.528ecd22.js"><link rel="prefetch" href="/assets/js/54.151a0b76.js"><link rel="prefetch" href="/assets/js/55.ed514328.js"><link rel="prefetch" href="/assets/js/56.c5eac22a.js"><link rel="prefetch" href="/assets/js/57.117f3518.js"><link rel="prefetch" href="/assets/js/58.f3e507ab.js"><link rel="prefetch" href="/assets/js/59.400ab726.js"><link rel="prefetch" href="/assets/js/6.9574aa6e.js"><link rel="prefetch" href="/assets/js/60.077123e7.js"><link rel="prefetch" href="/assets/js/61.95b70fa6.js"><link rel="prefetch" href="/assets/js/62.f92fd45c.js"><link rel="prefetch" href="/assets/js/63.c445ed46.js"><link rel="prefetch" href="/assets/js/64.4f09ca0c.js"><link rel="prefetch" href="/assets/js/65.d305b20a.js"><link rel="prefetch" href="/assets/js/66.871a31c2.js"><link rel="prefetch" href="/assets/js/67.d4c21221.js"><link rel="prefetch" href="/assets/js/68.9272f1bb.js"><link rel="prefetch" href="/assets/js/69.23abf678.js"><link rel="prefetch" href="/assets/js/7.bc420e60.js"><link rel="prefetch" href="/assets/js/70.f6cfc05f.js"><link rel="prefetch" href="/assets/js/71.2fa44131.js"><link rel="prefetch" href="/assets/js/72.c4c2ff9e.js"><link rel="prefetch" href="/assets/js/73.8a459886.js"><link rel="prefetch" href="/assets/js/74.3af4997b.js"><link rel="prefetch" href="/assets/js/75.ac8c6dfc.js"><link rel="prefetch" href="/assets/js/76.e5b3ca56.js"><link rel="prefetch" href="/assets/js/77.4121a67b.js"><link rel="prefetch" href="/assets/js/79.6cd9bb83.js"><link rel="prefetch" href="/assets/js/8.75837d8b.js"><link rel="prefetch" href="/assets/js/80.1b577f21.js"><link rel="prefetch" href="/assets/js/81.2c25531c.js"><link rel="prefetch" href="/assets/js/82.c35c215e.js"><link rel="prefetch" href="/assets/js/83.4a0de3fc.js"><link rel="prefetch" href="/assets/js/84.a71c65bc.js"><link rel="prefetch" href="/assets/js/85.c85ad429.js"><link rel="prefetch" href="/assets/js/86.fb9cbc53.js"><link rel="prefetch" href="/assets/js/87.525f24db.js"><link rel="prefetch" href="/assets/js/88.a1f81a90.js"><link rel="prefetch" href="/assets/js/89.1165d2ba.js"><link rel="prefetch" href="/assets/js/9.c8dd68ad.js"><link rel="prefetch" href="/assets/js/90.74926fef.js"><link rel="prefetch" href="/assets/js/91.42f528f7.js"><link rel="prefetch" href="/assets/js/92.405646e8.js"><link rel="prefetch" href="/assets/js/93.228f20b9.js"><link rel="prefetch" href="/assets/js/94.ba9faee5.js"><link rel="prefetch" href="/assets/js/95.f325299b.js"><link rel="prefetch" href="/assets/js/96.d20e7f41.js"><link rel="prefetch" href="/assets/js/97.8fb47b44.js"><link rel="prefetch" href="/assets/js/98.1aea0696.js"><link rel="prefetch" href="/assets/js/99.9b9d85d9.js">
    <link rel="stylesheet" href="/assets/css/0.styles.df856fea.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-130b300a><div data-v-130b300a><div class="password-shadow password-wrapper-out" style="display:none;" data-v-25ba6db2 data-v-130b300a data-v-130b300a><h3 class="title" data-v-25ba6db2 data-v-25ba6db2>Weekly Tracker</h3> <p class="description" data-v-25ba6db2 data-v-25ba6db2>追踪国外最流行的周刊</p> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><!---->
            
          <!---->
          2022
        </a></span></div></div> <div class="hide" data-v-130b300a><header class="navbar" data-v-130b300a><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/images/organization.png" alt="Weekly Tracker" class="logo"> <span class="site-name">Weekly Tracker</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  首页
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  最新文章
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      所有周刊
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/CSS Weekly/" class="nav-link"><i class="undefined"></i>
  CSS Weekly
</a></li><li class="dropdown-item"><!----> <a href="/categories/Frontend Focus/" class="nav-link"><i class="undefined"></i>
  Frontend Focus
</a></li><li class="dropdown-item"><!----> <a href="/categories/JavaScript Weekly/" class="nav-link"><i class="undefined"></i>
  JavaScript Weekly
</a></li><li class="dropdown-item"><!----> <a href="/categories/Mobile Dev Weekly/" class="nav-link"><i class="undefined"></i>
  Mobile Dev Weekly
</a></li><li class="dropdown-item"><!----> <a href="/categories/Node Weekly/" class="nav-link"><i class="undefined"></i>
  Node Weekly
</a></li><li class="dropdown-item"><!----> <a href="/categories/React Status/" class="nav-link"><i class="undefined"></i>
  React Status
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  精选文章
</a></div><div class="nav-item"><a href="https://github.com/FEDarling/weekly-tracker" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://weekly.fedarling.com/rss.xml" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-bokeyuan"></i>
  RSS
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-130b300a></div> <aside class="sidebar" data-v-130b300a><div class="personal-info-wrapper" data-v-39576ba9 data-v-130b300a><!----> <!----> <div class="num" data-v-39576ba9><div data-v-39576ba9><h3 data-v-39576ba9>72</h3> <h6 data-v-39576ba9>文章</h6></div> <div data-v-39576ba9><h3 data-v-39576ba9>22</h3> <h6 data-v-39576ba9>标签</h6></div></div> <ul class="social-links" data-v-39576ba9></ul> <hr data-v-39576ba9></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  首页
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  最新文章
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      所有周刊
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/CSS Weekly/" class="nav-link"><i class="undefined"></i>
  CSS Weekly
</a></li><li class="dropdown-item"><!----> <a href="/categories/Frontend Focus/" class="nav-link"><i class="undefined"></i>
  Frontend Focus
</a></li><li class="dropdown-item"><!----> <a href="/categories/JavaScript Weekly/" class="nav-link"><i class="undefined"></i>
  JavaScript Weekly
</a></li><li class="dropdown-item"><!----> <a href="/categories/Mobile Dev Weekly/" class="nav-link"><i class="undefined"></i>
  Mobile Dev Weekly
</a></li><li class="dropdown-item"><!----> <a href="/categories/Node Weekly/" class="nav-link"><i class="undefined"></i>
  Node Weekly
</a></li><li class="dropdown-item"><!----> <a href="/categories/React Status/" class="nav-link"><i class="undefined"></i>
  React Status
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  精选文章
</a></div><div class="nav-item"><a href="https://github.com/FEDarling/weekly-tracker" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://weekly.fedarling.com/rss.xml" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-bokeyuan"></i>
  RSS
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav> <ul class="sidebar-links"><li><a href="/javascript_weekly/578/" class="sidebar-link">JavaScript Weekly #578</a></li><li><a href="/javascript_weekly/577/" class="sidebar-link">JavaScript Weekly #577</a></li><li><a href="/javascript_weekly/576/" class="sidebar-link">JavaScript Weekly #576</a></li><li><a href="/javascript_weekly/575/" class="sidebar-link">JavaScript Weekly #575</a></li><li><a href="/javascript_weekly/574/" class="sidebar-link">JavaScript Weekly #574</a></li><li><a href="/javascript_weekly/573/" class="sidebar-link">JavaScript Weekly #573</a></li><li><a href="/javascript_weekly/572/" class="sidebar-link">JavaScript Weekly #572</a></li><li><section class="sidebar-group depth-0"><a href="/javascript_weekly/571/" class="sidebar-heading clickable"><span>JavaScript Weekly #571</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/javascript_weekly/571/Is_It_Time_for_the_JavaScript_Temporal_API.html" class="sidebar-link">是开始使用 JavaScript Temporal API 的时候了吗？</a></li><li><a href="/javascript_weekly/571/flatMap.html" class="sidebar-link">Array.flatMap：一个灵活好用的 Map 方法</a></li><li><a href="/javascript_weekly/571/fuite.html" class="sidebar-link">Fuite：监测 web 应用中内存泄漏的工具</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/javascript_weekly/570/" class="sidebar-heading clickable"><span>JavaScript Weekly #570</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/javascript_weekly/570/ES2021_new_feature.html" class="sidebar-link">ES2021 新特性</a></li><li><a href="/javascript_weekly/570/build_tools_compare.html" class="sidebar-link">新一代构建工具对比</a></li><li><a href="/javascript_weekly/570/svelte_vs_react.html" class="sidebar-link">比较 Svelte 和 React</a></li><li><a href="/javascript_weekly/570/ternary.html" class="sidebar-link">重新思考 JavaScript 的三元运算符</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/javascript_weekly/554/" class="sidebar-heading clickable"><span>JavaScript Weekly #554</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/javascript_weekly/554/ES2022_Feature_Class_Static_Initialization_Blocks.html" class="sidebar-link">ES2022 特性：类静态初始化块</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/javascript_weekly/523/" class="sidebar-heading clickable router-link-active"><span>JavaScript Weekly #523</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/javascript_weekly/523/undefined_VS_null.html" class="sidebar-link">null vs undefinded</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/javascript_weekly/399/" class="sidebar-heading clickable"><span>JavaScript Weekly #399</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/javascript_weekly/399/js_engine_optimizing_prototype.html" class="sidebar-link">JavaScript引擎基础(下)：优化原型</a></li><li><a href="/javascript_weekly/399/js_engine_shape_and_inline_caches.html" class="sidebar-link">JavaScript引擎基础(上)：形态和内联缓存</a></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-25ba6db2 data-v-130b300a><h3 class="title" data-v-25ba6db2 data-v-25ba6db2>10 Bad TypeScript Habits to Break This Year</h3> <!----> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><!---->
            
          <!---->
          2022
        </a></span></div></div> <div data-v-130b300a><main class="page"><section><div class="page-title"><h1 class="title">10 Bad TypeScript Habits to Break This Year</h1> <div data-v-f875f3fc><!----> <i class="iconfont reco-date" data-v-f875f3fc><span data-v-f875f3fc>2022/1/30</span></i> <!----> <i class="tags iconfont reco-tag" data-v-f875f3fc><span class="tag-item" data-v-f875f3fc>CSS</span><span class="tag-item" data-v-f875f3fc>JavaScript</span><span class="tag-item" data-v-f875f3fc>HTML</span><span class="tag-item" data-v-f875f3fc>TypeScript</span><span class="tag-item" data-v-f875f3fc>ECMAScript</span><span class="tag-item" data-v-f875f3fc>Chrome</span><span class="tag-item" data-v-f875f3fc>游览器</span><span class="tag-item" data-v-f875f3fc>网络</span><span class="tag-item" data-v-f875f3fc>React</span><span class="tag-item" data-v-f875f3fc>Vue</span><span class="tag-item" data-v-f875f3fc>webpack</span><span class="tag-item" data-v-f875f3fc>babel</span><span class="tag-item" data-v-f875f3fc>vite</span><span class="tag-item" data-v-f875f3fc>node</span></i></div></div> <div class="theme-reco-content content__default"><p><img src="https://cdn.jsdelivr.net/gh/daodaolee/photobed@main/img/20220212151040.png" alt=""></p> <p>TypeScript and JavaScript have steadily evolved over the last years, and some of the habits we built over the last decades have become obsolete. Some might never have been meaningful. Here's a list of 10 habits that we all should break.</p> <p>If you are interested in more articles and news about web product development and entrepreneurship, please feel free to <a href="https://twitter.com/intent/follow?original_referer=https%253A%252F%252Fstartup-cto.net%252F&amp;ref_src=twsrc%5Etfw&amp;region=follow_link&amp;screen_name=The_Startup_CTO&amp;tw_p=followbutton" target="_blank" rel="noopener noreferrer">follow me on Twitter<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>Onto the examples! Please note that each &quot;What it should look like&quot; only fixes the issue discussed, even if there are further code smells that should be addressed.</p> <h2 id="_1-not-using-strict-mode"><a href="#_1-not-using-strict-mode" class="header-anchor">#</a> 1. Not using <code>strict</code> mode</h2> <h3 id="what-it-looks-like"><a href="#what-it-looks-like" class="header-anchor">#</a> What it looks like</h3> <p>Using a <code>tsconfig.json</code> without strict mode.</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;target&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ES2015&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;commonjs&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="what-it-should-look-like"><a href="#what-it-should-look-like" class="header-anchor">#</a> What it should look like</h3> <p>Just enable <code>strict</code> mode:</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;target&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ES2015&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;commonjs&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;strict&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="why-we-do-it"><a href="#why-we-do-it" class="header-anchor">#</a> Why we do it</h3> <p>Introducing stricter rules in an existing codebase takes time.</p> <h3 id="why-we-shouldn-t"><a href="#why-we-shouldn-t" class="header-anchor">#</a> Why we shouldn't</h3> <p>Stricter rules will make it easier to change code in the future, so the time spent on fixing the code is returned and then some when working on the repository in the future.</p> <h2 id="_2-defining-default-values-with"><a href="#_2-defining-default-values-with" class="header-anchor">#</a> 2. Defining default values with <code>||</code></h2> <h3 id="what-it-looks-like-2"><a href="#what-it-looks-like-2" class="header-anchor">#</a> What it looks like</h3> <p>Falling back with || for optional values:</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">createBlogPost</span><span class="token punctuation">(</span>text<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> author<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> date<span class="token operator">?</span><span class="token operator">:</span> Date<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        text<span class="token operator">:</span> text<span class="token punctuation">,</span>
        author<span class="token operator">:</span> author<span class="token punctuation">,</span>
        date<span class="token operator">:</span> date <span class="token operator">||</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="what-it-should-look-like-2"><a href="#what-it-should-look-like-2" class="header-anchor">#</a> What it should look like</h3> <p>Use the new <code>??</code> operator, or, even better, define the fallback right at the parameter level.</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">createBlogPost</span> <span class="token punctuation">(</span>text<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> author<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> date<span class="token operator">:</span> Date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    text<span class="token operator">:</span> text<span class="token punctuation">,</span>
    author<span class="token operator">:</span> author<span class="token punctuation">,</span>
    date<span class="token operator">:</span> date
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="why-we-do-it-2"><a href="#why-we-do-it-2" class="header-anchor">#</a> Why we do it</h3> <p>The <code>??</code> operator has just been introduced last year, and when using values in the middle of a long function it might be hard to set them already as parameter defaults.</p> <h3 id="why-we-shouldn-t-2"><a href="#why-we-shouldn-t-2" class="header-anchor">#</a> Why we shouldn't</h3> <p><code>??</code>, unlike <code>||</code>, falls back only for <code>null</code> or <code>undefined</code>, not for all falsy values. Also, if your functions are so long that you cannot define defaults at the beginning, then splitting them might be a good idea.</p> <h2 id="_3-using-any-as-type"><a href="#_3-using-any-as-type" class="header-anchor">#</a> 3. Using <code>any</code> as type</h2> <h3 id="what-it-looks-like-3"><a href="#what-it-looks-like-3" class="header-anchor">#</a> What it looks like</h3> <p>Using <code>any</code> for data when you are unsure about the structure.</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">loadProducts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>Product<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'https://api.mysite.com/products'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> products<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> products<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="what-it-should-look-like-3"><a href="#what-it-should-look-like-3" class="header-anchor">#</a> What it should look like</h3> <p>In almost every situation where you type something as <code>any</code>, you should type it as <code>unknown</code> instead.</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">loadProducts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>Product<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'https://api.mysite.com/products'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> products<span class="token operator">:</span> <span class="token builtin">unknown</span> <span class="token operator">=</span> <span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> products <span class="token keyword">as</span> Product<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="why-we-do-it-3"><a href="#why-we-do-it-3" class="header-anchor">#</a> Why we do it</h3> <p><code>any</code> is convenient, as it basically disables all type-checks. Often, <code>any</code> is used even in official typings (e. g. <code>response.json()</code> from the example above is typed as <code>Promise&lt;any&gt;</code> by the TypeScript team).</p> <h3 id="why-we-shouldn-t-3"><a href="#why-we-shouldn-t-3" class="header-anchor">#</a> Why we shouldn't</h3> <p>It basically disables all type-checks. Anything that comes in via <code>any</code> will completely forego any type-checks. This leads to hard to catch bugs, as code will fail only when our assumptions about type structure are relevant to the runtime code.</p> <h2 id="_4-val-as-sometype"><a href="#_4-val-as-sometype" class="header-anchor">#</a> 4. <code>val as SomeType</code></h2> <h3 id="what-it-looks-like-4"><a href="#what-it-looks-like-4" class="header-anchor">#</a> What it looks like</h3> <p>Forcefully telling the compiler about a type that it cannot infer.</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">loadProducts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>Product<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'https://api.mysite.com/products'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> products<span class="token operator">:</span> <span class="token builtin">unknown</span> <span class="token operator">=</span> <span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> products <span class="token keyword">as</span> Product<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="what-it-should-look-like-4"><a href="#what-it-should-look-like-4" class="header-anchor">#</a> What it should look like</h3> <p>That's what type guards are for.</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">isArrayOfProducts</span><span class="token punctuation">(</span>obj<span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">)</span><span class="token operator">:</span> obj <span class="token keyword">is</span> Product<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token builtin">Array</span><span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> obj<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span>isProduct<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">isProduct</span><span class="token punctuation">(</span>obj<span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">)</span><span class="token operator">:</span> obj <span class="token keyword">is</span> Product <span class="token punctuation">{</span>
    <span class="token keyword">return</span> obj <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> <span class="token punctuation">(</span>obj <span class="token keyword">as</span> Product<span class="token punctuation">)</span><span class="token punctuation">.</span>id <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">loadProducts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>Product<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'https://api.mysite.com/products'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> products<span class="token operator">:</span> <span class="token builtin">unknown</span> <span class="token operator">=</span> <span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isArrayOfProducts</span><span class="token punctuation">(</span>products<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">'Received malformed products API response'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> products<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="why-we-do-it-4"><a href="#why-we-do-it-4" class="header-anchor">#</a> Why we do it</h3> <p>When converting from JavaScript to TypeScript, the existing codebase often makes assumptions about types that cannot be deduced automatically by the TypeScript compiler. In these cases, throwing in a quick <code>as SomeOtherType</code> can speed up the conversion without having to loosen the settings in tsconfig.</p> <h3 id="why-we-shouldn-t-4"><a href="#why-we-shouldn-t-4" class="header-anchor">#</a> Why we shouldn't</h3> <p>Even if the assertion might be save right now, this might change when someone moves code around. The type guard will ensure that all checks are explicit.</p> <h2 id="_5-as-any-in-tests"><a href="#_5-as-any-in-tests" class="header-anchor">#</a> 5. <code>as any</code> in tests</h2> <h3 id="what-it-looks-like-5"><a href="#what-it-looks-like-5" class="header-anchor">#</a> What it looks like</h3> <p>Creating incomplete stand-ins when writing tests.</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token builtin">string</span>
  firstName<span class="token operator">:</span> <span class="token builtin">string</span>
  lastName<span class="token operator">:</span> <span class="token builtin">string</span>
  email<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'createEmailText returns text that greats the user by first name'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> user<span class="token operator">:</span> User <span class="token operator">=</span> <span class="token punctuation">{</span>
    firstName<span class="token operator">:</span> <span class="token string">'John'</span>
  <span class="token punctuation">}</span> <span class="token keyword">as</span> <span class="token builtin">any</span>

  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">createEmailText</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toContain</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>firstName<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="what-it-should-look-like-5"><a href="#what-it-should-look-like-5" class="header-anchor">#</a> What it should look like</h3> <p>If you need to mock data for your tests, move the mocking logic next to the thing you mock and make it reusable.</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token builtin">string</span>
  firstName<span class="token operator">:</span> <span class="token builtin">string</span>
  lastName<span class="token operator">:</span> <span class="token builtin">string</span>
  email<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">MockUser</span> <span class="token keyword">implements</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  id <span class="token operator">=</span> <span class="token string">'id'</span>
  firstName <span class="token operator">=</span> <span class="token string">'John'</span>
  lastName <span class="token operator">=</span> <span class="token string">'Doe'</span>
  email <span class="token operator">=</span> <span class="token string">'john@doe.com'</span>
<span class="token punctuation">}</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'createEmailText returns text that greats the user by first name'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MockUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">createEmailText</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toContain</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>firstName<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="why-we-do-it-5"><a href="#why-we-do-it-5" class="header-anchor">#</a> Why we do it</h3> <p>When writing tests in a codebase that doesn't have great test coverage yet, there are often complicated big data structures, but only parts of it are needed for the specific functionality under test. Not having to worry about the other properties is easier in the short term.</p> <h3 id="why-we-shouldn-t-5"><a href="#why-we-shouldn-t-5" class="header-anchor">#</a> Why we shouldn't</h3> <p>Foregoing the creation of a mock will bite us, latest when one of the properties changes and we need to change it in all tests instead of one central location. Also, there will be situations where the code under test relies on properties that we did not deem important before, and then all tests for that functionality need to be updated.</p> <h2 id="_6-optional-properties"><a href="#_6-optional-properties" class="header-anchor">#</a> 6. Optional properties</h2> <h3 id="what-it-looks-like-6"><a href="#what-it-looks-like-6" class="header-anchor">#</a> What it looks like</h3> <p>Marking properties as optional that are sometimes there and sometimes not.</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Product</span> <span class="token punctuation">{</span>
    id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    type<span class="token operator">:</span> <span class="token string">'digital'</span> <span class="token operator">|</span> <span class="token string">'physical'</span><span class="token punctuation">;</span>
    weightInKg<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    sizeInMb<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="what-it-should-look-like-6"><a href="#what-it-should-look-like-6" class="header-anchor">#</a> What it should look like</h3> <p>Explicitly model which combinations exist and which don't.</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Product</span> <span class="token punctuation">{</span>
    id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    type<span class="token operator">:</span> <span class="token string">'digital'</span> <span class="token operator">|</span> <span class="token string">'physical'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">DigitalProduct</span> <span class="token keyword">extends</span> <span class="token class-name">Product</span> <span class="token punctuation">{</span>
    type<span class="token operator">:</span> <span class="token string">'digital'</span><span class="token punctuation">;</span>
    sizeInMb<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">PhysicalProduct</span> <span class="token keyword">extends</span> <span class="token class-name">Product</span> <span class="token punctuation">{</span>
    type<span class="token operator">:</span> <span class="token string">'physical'</span><span class="token punctuation">;</span>
    weightInKg<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="why-we-do-it-6"><a href="#why-we-do-it-6" class="header-anchor">#</a> Why we do it</h3> <p>Marking properties as optional instead of splitting out types is easier and produces less code. It also requires a deeper understanding of the product being built and might limit usage of code if assumptions about the product change.</p> <h3 id="why-we-shouldn-t-6"><a href="#why-we-shouldn-t-6" class="header-anchor">#</a> Why we shouldn't</h3> <p>The big benefit of type systems is that they can replace runtime checks with compile-time checks. With more explicit typing, it is possible to get compile-time checks for bugs that otherwise might have gotten unnoticed, e. g. by making sure that every <code>DigitalProduct</code> has a <code>sizeInMb</code>.</p> <h2 id="_7-one-letter-generics"><a href="#_7-one-letter-generics" class="header-anchor">#</a> 7. One letter generics</h2> <h3 id="what-it-looks-like-7"><a href="#what-it-looks-like-7" class="header-anchor">#</a> What it looks like</h3> <p>Naming a generic with one letter</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">head</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>arr<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token operator">|</span> <span class="token keyword">undefined</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="what-it-should-look-like-7"><a href="#what-it-should-look-like-7" class="header-anchor">#</a> What it should look like</h3> <p>Giving a full descriptive type name.</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">head</span><span class="token generic class-name"><span class="token operator">&lt;</span>Element<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>arr<span class="token operator">:</span> Element<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> Element <span class="token operator">|</span> <span class="token keyword">undefined</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="why-we-do-it-7"><a href="#why-we-do-it-7" class="header-anchor">#</a> Why we do it</h3> <p>This habit grew I guess because <a href="https://www.typescriptlang.org/docs/handbook/generics.html" target="_blank" rel="noopener noreferrer">even the official docs use one-letter names<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. It is also quicker to type and requires less thinking to press <code>T</code> instead of writing a full name.</p> <h3 id="why-we-shouldn-t-7"><a href="#why-we-shouldn-t-7" class="header-anchor">#</a> Why we shouldn't</h3> <p>Generic type variables are variables, like any other. We have abandoned the idea of describing the technicalities of variables in their names when IDEs started to just show us these technicalities. E. g. instead of <code>const strName = 'Daniel'</code> we now only write <code>const name = 'Daniel'</code>. Also, one letter variable names are generally frowned upon because it can be hard to decipher what they mean without looking at their declaration.</p> <h2 id="_8-non-boolean-boolean-checks"><a href="#_8-non-boolean-boolean-checks" class="header-anchor">#</a> 8. Non-boolean boolean checks</h2> <h3 id="what-it-looks-like-8"><a href="#what-it-looks-like-8" class="header-anchor">#</a> What it looks like</h3> <p>Checking whether a value is defined by passing the value directly to an <code>if</code> statement.</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">createNewMessagesResponse</span><span class="token punctuation">(</span>countOfNewMessages<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>countOfNewMessages<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">You have </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>countOfNewMessages<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> new messages</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token string">'Error: Could not retrieve number of new messages'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="what-it-should-look-like-8"><a href="#what-it-should-look-like-8" class="header-anchor">#</a> What it should look like</h3> <p>Explicitly checking for the condition we care about.</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">createNewMessagesResponse</span><span class="token punctuation">(</span>countOfNewMessages<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>countOfNewMessages <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">You have </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>countOfNewMessages<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> new messages</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token string">'Error: Could not retrieve number of new messages'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="why-we-do-it-8"><a href="#why-we-do-it-8" class="header-anchor">#</a> Why we do it</h3> <p>Writing the check in short looks more succinct and allows us to avoid thinking about what we actually want to check.</p> <h3 id="why-we-shouldn-t-8"><a href="#why-we-shouldn-t-8" class="header-anchor">#</a> Why we shouldn't</h3> <p>Maybe we should think about what we actually want to check. The examples above for example handle the case of <code>countOfNewMessages</code> being <code>0</code> differently.</p> <h2 id="_9-the-bang-bang-operator"><a href="#_9-the-bang-bang-operator" class="header-anchor">#</a> 9. The Bang Bang operator</h2> <h3 id="what-it-looks-like-9"><a href="#what-it-looks-like-9" class="header-anchor">#</a> What it looks like</h3> <p>Converting a non-boolean value to boolean.</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">createNewMessagesResponse</span><span class="token punctuation">(</span>countOfNewMessages<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span>countOfNewMessages<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">You have </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>countOfNewMessages<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> new messages</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token string">'Error: Could not retrieve number of new messages'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="what-it-should-look-like-9"><a href="#what-it-should-look-like-9" class="header-anchor">#</a> What it should look like</h3> <p>Explicitly checking for the condition we care about.</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">createNewMessagesResponse</span><span class="token punctuation">(</span>countOfNewMessages<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>countOfNewMessages <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">You have </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>countOfNewMessages<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> new messages</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token string">'Error: Could not retrieve number of new messages'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="why-we-do-it-9"><a href="#why-we-do-it-9" class="header-anchor">#</a> Why we do it</h3> <p>To some, understanding <code>!!</code> is like an initiation ritual to the world of JavaScript. It looks short and succinct, and if you are already used to it, then you know what it is about. It is a shortcut to convert any value to a boolean. Especially if, in a codebase, there is no clear semantic separation between falsy values like <code>null</code>, <code>undefined</code>, and <code>''</code>.</p> <h3 id="why-we-shouldn-t-9"><a href="#why-we-shouldn-t-9" class="header-anchor">#</a> Why we shouldn't</h3> <p>Like many shortcuts and initiation rituals, using <code>!!</code> obfuscates the true meaning of the code by promoting insider knowledge. This makes the codebase less accessible to new developers, be it new to developing in general, or just new to JavaScript. It's also quite easy to introduce subtle bugs. The problem with <code>countOfNewMessages</code> being <code>0</code> from &quot;Non-boolean boolean checks&quot; persists with <code>!!</code>.</p> <h2 id="_10-null"><a href="#_10-null" class="header-anchor">#</a> 10. <code>!= null</code></h2> <h3 id="what-it-looks-like-10"><a href="#what-it-looks-like-10" class="header-anchor">#</a> What it looks like</h3> <p>The little sister of the bang bang operator, <code>!= null</code> allows us to check for <code>null</code> and <code>undefined</code> at the same time.</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">createNewMessagesResponse</span><span class="token punctuation">(</span>countOfNewMessages<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>countOfNewMessages <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">You have </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>countOfNewMessages<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> new messages</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token string">'Error: Could not retrieve number of new messages'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="what-it-should-look-like-10"><a href="#what-it-should-look-like-10" class="header-anchor">#</a> What it should look like</h3> <p>Explicitly checking for the condition we care about.</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">createNewMessagesResponse</span><span class="token punctuation">(</span>countOfNewMessages<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>countOfNewMessages <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">You have </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>countOfNewMessages<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> new messages</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token string">'Error: Could not retrieve number of new messages'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="why-we-do-it-10"><a href="#why-we-do-it-10" class="header-anchor">#</a> Why we do it</h3> <p>If you got here, your codebase and your skills are already in quite good shape. Even most linting rulesets that enforce using <code>!==</code> over <code>!=</code> make an exemption for <code>!=</code> null. If there is no clear distinction in the codebase between <code>null</code> and <code>undefined</code>, then <code>!=</code> null helps to shorten a check for both possibilities.</p> <h3 id="why-we-shouldn-t-10"><a href="#why-we-shouldn-t-10" class="header-anchor">#</a> Why we shouldn't</h3> <p>While <code>null</code> values were quite a hassle in the early days of JavaScript, with TypeScript in <code>strict</code> mode, they can become a valuable member of the language's tool belt. A common pattern I have seen is defining <code>null</code> values as things not being there, and <code>undefined</code> as not things that are unknown, e. g. <code>user.firstName === null</code> might mean that the user literally does not have a first name, while <code>user.firstName === undefined</code> just means that we haven't asked that user yet (and <code>user.firstName === ''</code> would mean the first name literally is <code>''</code> - you'd be surprised <a href="https://www.kalzumeus.com/2010/06/17/falsehoods-programmers-believe-about-names/" target="_blank" rel="noopener noreferrer">which kind of names actually exist<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>).</p> <hr> <blockquote><ul><li>译文出自：<a href="https://github.com/FEDarling/weekly-tracker" target="_blank" rel="noopener noreferrer">weekly-tracker<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 项目，期待你的加入！</li> <li><a href="https://startup-cto.net/10-bad-typescript-habits-to-break-this-year" target="_blank" rel="noopener noreferrer">查看原文<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>对比阅读</li> <li>发现错误？<a href="https://github.com/FEDarling/weekly-tracker/blob/main/weeklys/javascript_weekly/523/10_bad_typescript_habits_to_break_this_year.md" target="_blank" rel="noopener noreferrer">提交 PR<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>译者：</li> <li>校对者：</li></ul></blockquote></div></section> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/FEDarling/weekly-tracker/edit/main/weeklys/javascript_weekly/523/10_bad_typescript_habits_to_break_this_year.md" target="_blank" rel="noopener noreferrer">发现错误？欢迎斧正</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">最后更新时间: </span> <span class="time">2022/5/28 上午7:04:15</span></div></footer> <!----> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-cb1513f6><li class="level-2" data-v-cb1513f6><a href="/javascript_weekly/523/10_bad_typescript_habits_to_break_this_year.html#_1-not-using-strict-mode" class="sidebar-link reco-side-_1-not-using-strict-mode" data-v-cb1513f6>1. Not using strict mode</a></li><li class="level-3" data-v-cb1513f6><a href="/javascript_weekly/523/10_bad_typescript_habits_to_break_this_year.html#what-it-looks-like" class="sidebar-link reco-side-what-it-looks-like" data-v-cb1513f6>What it looks like</a></li><li class="level-3" data-v-cb1513f6><a href="/javascript_weekly/523/10_bad_typescript_habits_to_break_this_year.html#what-it-should-look-like" class="sidebar-link reco-side-what-it-should-look-like" data-v-cb1513f6>What it should look like</a></li><li class="level-3" data-v-cb1513f6><a href="/javascript_weekly/523/10_bad_typescript_habits_to_break_this_year.html#why-we-do-it" class="sidebar-link reco-side-why-we-do-it" data-v-cb1513f6>Why we do it</a></li><li class="level-3" data-v-cb1513f6><a href="/javascript_weekly/523/10_bad_typescript_habits_to_break_this_year.html#why-we-shouldn-t" class="sidebar-link reco-side-why-we-shouldn-t" data-v-cb1513f6>Why we shouldn't</a></li><li class="level-2" data-v-cb1513f6><a href="/javascript_weekly/523/10_bad_typescript_habits_to_break_this_year.html#_2-defining-default-values-with" class="sidebar-link reco-side-_2-defining-default-values-with" data-v-cb1513f6>2. Defining default values with ||</a></li><li class="level-3" data-v-cb1513f6><a href="/javascript_weekly/523/10_bad_typescript_habits_to_break_this_year.html#what-it-looks-like-2" class="sidebar-link reco-side-what-it-looks-like-2" data-v-cb1513f6>What it looks like</a></li><li class="level-3" data-v-cb1513f6><a href="/javascript_weekly/523/10_bad_typescript_habits_to_break_this_year.html#what-it-should-look-like-2" class="sidebar-link reco-side-what-it-should-look-like-2" data-v-cb1513f6>What it should look like</a></li><li class="level-3" data-v-cb1513f6><a href="/javascript_weekly/523/10_bad_typescript_habits_to_break_this_year.html#why-we-do-it-2" class="sidebar-link reco-side-why-we-do-it-2" data-v-cb1513f6>Why we do it</a></li><li class="level-3" data-v-cb1513f6><a href="/javascript_weekly/523/10_bad_typescript_habits_to_break_this_year.html#why-we-shouldn-t-2" class="sidebar-link reco-side-why-we-shouldn-t-2" data-v-cb1513f6>Why we shouldn't</a></li><li class="level-2" data-v-cb1513f6><a href="/javascript_weekly/523/10_bad_typescript_habits_to_break_this_year.html#_3-using-any-as-type" class="sidebar-link reco-side-_3-using-any-as-type" data-v-cb1513f6>3. Using any as type</a></li><li class="level-3" data-v-cb1513f6><a href="/javascript_weekly/523/10_bad_typescript_habits_to_break_this_year.html#what-it-looks-like-3" class="sidebar-link reco-side-what-it-looks-like-3" data-v-cb1513f6>What it looks like</a></li><li class="level-3" data-v-cb1513f6><a href="/javascript_weekly/523/10_bad_typescript_habits_to_break_this_year.html#what-it-should-look-like-3" class="sidebar-link reco-side-what-it-should-look-like-3" data-v-cb1513f6>What it should look like</a></li><li class="level-3" data-v-cb1513f6><a href="/javascript_weekly/523/10_bad_typescript_habits_to_break_this_year.html#why-we-do-it-3" class="sidebar-link reco-side-why-we-do-it-3" data-v-cb1513f6>Why we do it</a></li><li class="level-3" data-v-cb1513f6><a href="/javascript_weekly/523/10_bad_typescript_habits_to_break_this_year.html#why-we-shouldn-t-3" class="sidebar-link reco-side-why-we-shouldn-t-3" data-v-cb1513f6>Why we shouldn't</a></li><li class="level-2" data-v-cb1513f6><a href="/javascript_weekly/523/10_bad_typescript_habits_to_break_this_year.html#_4-val-as-sometype" class="sidebar-link reco-side-_4-val-as-sometype" data-v-cb1513f6>4. val as SomeType</a></li><li class="level-3" data-v-cb1513f6><a href="/javascript_weekly/523/10_bad_typescript_habits_to_break_this_year.html#what-it-looks-like-4" class="sidebar-link reco-side-what-it-looks-like-4" data-v-cb1513f6>What it looks like</a></li><li class="level-3" data-v-cb1513f6><a href="/javascript_weekly/523/10_bad_typescript_habits_to_break_this_year.html#what-it-should-look-like-4" class="sidebar-link reco-side-what-it-should-look-like-4" data-v-cb1513f6>What it should look like</a></li><li class="level-3" data-v-cb1513f6><a href="/javascript_weekly/523/10_bad_typescript_habits_to_break_this_year.html#why-we-do-it-4" class="sidebar-link reco-side-why-we-do-it-4" data-v-cb1513f6>Why we do it</a></li><li class="level-3" data-v-cb1513f6><a href="/javascript_weekly/523/10_bad_typescript_habits_to_break_this_year.html#why-we-shouldn-t-4" class="sidebar-link reco-side-why-we-shouldn-t-4" data-v-cb1513f6>Why we shouldn't</a></li><li class="level-2" data-v-cb1513f6><a href="/javascript_weekly/523/10_bad_typescript_habits_to_break_this_year.html#_5-as-any-in-tests" class="sidebar-link reco-side-_5-as-any-in-tests" data-v-cb1513f6>5. as any in tests</a></li><li class="level-3" data-v-cb1513f6><a href="/javascript_weekly/523/10_bad_typescript_habits_to_break_this_year.html#what-it-looks-like-5" class="sidebar-link reco-side-what-it-looks-like-5" data-v-cb1513f6>What it looks like</a></li><li class="level-3" data-v-cb1513f6><a href="/javascript_weekly/523/10_bad_typescript_habits_to_break_this_year.html#what-it-should-look-like-5" class="sidebar-link reco-side-what-it-should-look-like-5" data-v-cb1513f6>What it should look like</a></li><li class="level-3" data-v-cb1513f6><a href="/javascript_weekly/523/10_bad_typescript_habits_to_break_this_year.html#why-we-do-it-5" class="sidebar-link reco-side-why-we-do-it-5" data-v-cb1513f6>Why we do it</a></li><li class="level-3" data-v-cb1513f6><a href="/javascript_weekly/523/10_bad_typescript_habits_to_break_this_year.html#why-we-shouldn-t-5" class="sidebar-link reco-side-why-we-shouldn-t-5" data-v-cb1513f6>Why we shouldn't</a></li><li class="level-2" data-v-cb1513f6><a href="/javascript_weekly/523/10_bad_typescript_habits_to_break_this_year.html#_6-optional-properties" class="sidebar-link reco-side-_6-optional-properties" data-v-cb1513f6>6. Optional properties</a></li><li class="level-3" data-v-cb1513f6><a href="/javascript_weekly/523/10_bad_typescript_habits_to_break_this_year.html#what-it-looks-like-6" class="sidebar-link reco-side-what-it-looks-like-6" data-v-cb1513f6>What it looks like</a></li><li class="level-3" data-v-cb1513f6><a href="/javascript_weekly/523/10_bad_typescript_habits_to_break_this_year.html#what-it-should-look-like-6" class="sidebar-link reco-side-what-it-should-look-like-6" data-v-cb1513f6>What it should look like</a></li><li class="level-3" data-v-cb1513f6><a href="/javascript_weekly/523/10_bad_typescript_habits_to_break_this_year.html#why-we-do-it-6" class="sidebar-link reco-side-why-we-do-it-6" data-v-cb1513f6>Why we do it</a></li><li class="level-3" data-v-cb1513f6><a href="/javascript_weekly/523/10_bad_typescript_habits_to_break_this_year.html#why-we-shouldn-t-6" class="sidebar-link reco-side-why-we-shouldn-t-6" data-v-cb1513f6>Why we shouldn't</a></li><li class="level-2" data-v-cb1513f6><a href="/javascript_weekly/523/10_bad_typescript_habits_to_break_this_year.html#_7-one-letter-generics" class="sidebar-link reco-side-_7-one-letter-generics" data-v-cb1513f6>7. One letter generics</a></li><li class="level-3" data-v-cb1513f6><a href="/javascript_weekly/523/10_bad_typescript_habits_to_break_this_year.html#what-it-looks-like-7" class="sidebar-link reco-side-what-it-looks-like-7" data-v-cb1513f6>What it looks like</a></li><li class="level-3" data-v-cb1513f6><a href="/javascript_weekly/523/10_bad_typescript_habits_to_break_this_year.html#what-it-should-look-like-7" class="sidebar-link reco-side-what-it-should-look-like-7" data-v-cb1513f6>What it should look like</a></li><li class="level-3" data-v-cb1513f6><a href="/javascript_weekly/523/10_bad_typescript_habits_to_break_this_year.html#why-we-do-it-7" class="sidebar-link reco-side-why-we-do-it-7" data-v-cb1513f6>Why we do it</a></li><li class="level-3" data-v-cb1513f6><a href="/javascript_weekly/523/10_bad_typescript_habits_to_break_this_year.html#why-we-shouldn-t-7" class="sidebar-link reco-side-why-we-shouldn-t-7" data-v-cb1513f6>Why we shouldn't</a></li><li class="level-2" data-v-cb1513f6><a href="/javascript_weekly/523/10_bad_typescript_habits_to_break_this_year.html#_8-non-boolean-boolean-checks" class="sidebar-link reco-side-_8-non-boolean-boolean-checks" data-v-cb1513f6>8. Non-boolean boolean checks</a></li><li class="level-3" data-v-cb1513f6><a href="/javascript_weekly/523/10_bad_typescript_habits_to_break_this_year.html#what-it-looks-like-8" class="sidebar-link reco-side-what-it-looks-like-8" data-v-cb1513f6>What it looks like</a></li><li class="level-3" data-v-cb1513f6><a href="/javascript_weekly/523/10_bad_typescript_habits_to_break_this_year.html#what-it-should-look-like-8" class="sidebar-link reco-side-what-it-should-look-like-8" data-v-cb1513f6>What it should look like</a></li><li class="level-3" data-v-cb1513f6><a href="/javascript_weekly/523/10_bad_typescript_habits_to_break_this_year.html#why-we-do-it-8" class="sidebar-link reco-side-why-we-do-it-8" data-v-cb1513f6>Why we do it</a></li><li class="level-3" data-v-cb1513f6><a href="/javascript_weekly/523/10_bad_typescript_habits_to_break_this_year.html#why-we-shouldn-t-8" class="sidebar-link reco-side-why-we-shouldn-t-8" data-v-cb1513f6>Why we shouldn't</a></li><li class="level-2" data-v-cb1513f6><a href="/javascript_weekly/523/10_bad_typescript_habits_to_break_this_year.html#_9-the-bang-bang-operator" class="sidebar-link reco-side-_9-the-bang-bang-operator" data-v-cb1513f6>9. The Bang Bang operator</a></li><li class="level-3" data-v-cb1513f6><a href="/javascript_weekly/523/10_bad_typescript_habits_to_break_this_year.html#what-it-looks-like-9" class="sidebar-link reco-side-what-it-looks-like-9" data-v-cb1513f6>What it looks like</a></li><li class="level-3" data-v-cb1513f6><a href="/javascript_weekly/523/10_bad_typescript_habits_to_break_this_year.html#what-it-should-look-like-9" class="sidebar-link reco-side-what-it-should-look-like-9" data-v-cb1513f6>What it should look like</a></li><li class="level-3" data-v-cb1513f6><a href="/javascript_weekly/523/10_bad_typescript_habits_to_break_this_year.html#why-we-do-it-9" class="sidebar-link reco-side-why-we-do-it-9" data-v-cb1513f6>Why we do it</a></li><li class="level-3" data-v-cb1513f6><a href="/javascript_weekly/523/10_bad_typescript_habits_to_break_this_year.html#why-we-shouldn-t-9" class="sidebar-link reco-side-why-we-shouldn-t-9" data-v-cb1513f6>Why we shouldn't</a></li><li class="level-2" data-v-cb1513f6><a href="/javascript_weekly/523/10_bad_typescript_habits_to_break_this_year.html#_10-null" class="sidebar-link reco-side-_10-null" data-v-cb1513f6>10. != null</a></li><li class="level-3" data-v-cb1513f6><a href="/javascript_weekly/523/10_bad_typescript_habits_to_break_this_year.html#what-it-looks-like-10" class="sidebar-link reco-side-what-it-looks-like-10" data-v-cb1513f6>What it looks like</a></li><li class="level-3" data-v-cb1513f6><a href="/javascript_weekly/523/10_bad_typescript_habits_to_break_this_year.html#what-it-should-look-like-10" class="sidebar-link reco-side-what-it-should-look-like-10" data-v-cb1513f6>What it should look like</a></li><li class="level-3" data-v-cb1513f6><a href="/javascript_weekly/523/10_bad_typescript_habits_to_break_this_year.html#why-we-do-it-10" class="sidebar-link reco-side-why-we-do-it-10" data-v-cb1513f6>Why we do it</a></li><li class="level-3" data-v-cb1513f6><a href="/javascript_weekly/523/10_bad_typescript_habits_to_break_this_year.html#why-we-shouldn-t-10" class="sidebar-link reco-side-why-we-shouldn-t-10" data-v-cb1513f6>Why we shouldn't</a></li></ul></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><!----><!----></div></div>
    <script src="/assets/js/app.5641f920.js" defer></script><script src="/assets/js/4.388a4c5b.js" defer></script><script src="/assets/js/1.8a664180.js" defer></script><script src="/assets/js/78.20ce1df9.js" defer></script><script src="/assets/js/10.6be17232.js" defer></script>
  </body>
</html>
